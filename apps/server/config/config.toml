[application]
port = 8000
host = "0.0.0.0"

[middlewares]
body-limit = { max-size = "5MB", display = true }
request-timeout = { enabled = true, timeout = "15s", display = true }

[middlewares.cors]
enabled = true
display = true
allow-credentials = false
allow-headers = ["Content-Type", "Authorization"]
allow-methods = ["GET", "POST", "PUT", "DELETE"]
allow-origins = ["*"]

[postgres-db]
uri = "${POSTGRES_DATABASE_URL:postgres://localhost:5432/code-lens-db}"
migrations_path = "config/migrations"
min_connections = 1
max_connections = 10
acquire_timeout_ms = 5000

[tokens]
secret = "${JWT_SECRET}"

[ldap]
url = "${LDAP_URL:ldap://localhost:389}"
base_dn = "${LDAP_BASE_DN}"

[repositories]
clone_dir = "${REPOSITORIES_DIR}"
rignore_file_path = "config/ignore-patterns"
max_file_size_mb = 5

[mailer]
smtp_host = "${SMTP_HOST}"
smtp_port = "${SMTP_PORT}"
smtp_username = "${SMTP_USERNAME}"
smtp_password = "${SMTP_PASSWORD}"
